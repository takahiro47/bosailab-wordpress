include _ui

.archive

  //- トップページ
  //- ------------------------------------------------------------
  <?php if ( is_front_page() ) { ?>

  section.post-items.row
    .post-item.item-th.col-sm-8.col-sm-offset-4.col-xs-12
      h2 News
    :php
      $wp_query = new WP_Query();
      $wp_query->query($param);
    <?php if ( $wp_query->have_posts() ) { while ( $wp_query->have_posts() ) { $wp_query->the_post(); ?>
    //- 投稿アイテム
    .post-item.item-index.loaded.col-sm-8.col-sm-offset-4.col-xs-12(data-id!="<?php the_ID(); ?>")
      .row
        .post-header
          +ui-calendar
        .post-article
          h3.title
            a(href!="<?php the_permalink(); ?>")
              span <?php the_title(); ?>
          p.excerpt.ellipsis.multiline
            <?php echo new_excerpt( 200 ); ?>
        .post-footer
          //- カスタム投稿タイプ
          a(href!="<?php echo get_post_type_archive_link( get_post_type() ); ?>")
            //- span #<?php echo esc_html( get_post_type_object( get_post_type() )->label ); ?>
            span.post-type #<?php echo get_post_type(); ?>
    <?php }} else { ?>
    //- 投稿アイテム(Not Found)
    .post-item.item-none.col-sm-8.col-sm-offset-4.col-xs-12
      span 投稿はまだありません。
    <?php } ?>


  //- 検索結果ページ
  //- ------------------------------------------------------------
  <?php } elseif ( is_search() ) { ?>

  hgroup.page-title
    h1 Search Results

  section.post-items.row
    <?php if ( $wp_query->have_posts() ) { while ( $wp_query->have_posts() ) { $wp_query->the_post(); ?>
    //- 投稿アイテム
    .post-item.item-search.loaded.col-sm-8.col-sm-offset-4.col-xs-12(data-id!="<?php the_ID(); ?>")
      .row
        .post-header
          +ui-calendar
        .post-article
          h3.title
            a(href!="<?php the_permalink(); ?>")
              span <?php the_title(); ?>
          p.excerpt.ellipsis.multiline
            <?php echo new_excerpt( 200 ); ?>
        .post-footer
          //- カスタム投稿タイプ
          a(href!="<?php echo get_post_type_archive_link( get_post_type() ); ?>")
            //- span #<?php echo esc_html( get_post_type_object( get_post_type() )->label ); ?>
            span.post-type #<?php echo get_post_type(); ?>
    <?php }} else { ?>
    //- 投稿アイテム(Not Found)
    .post-item.item-none.col-sm-8.col-sm-offset-4.col-xs-12
      span 投稿はまだありません。
    <?php } ?>


  //- 活動レポートページ
  //- ------------------------------------------------------------
  <?php } elseif ( get_post_type() == 'report' ) { ?>
  //- //- サイドバー
  //- :php
  //-   $sidebar = true;
  //-   if (
  //-     ( is_page() and !is_front_page() )
  //-     || ( is_archive() and !( get_post_type() == 'report' ) )
  //-     || ( is_single() and !( get_post_type() == 'report' ) )
  //-     || is_search()
  //-   ) {
  //-     $sidebar = false;
  //-   }
  //-   if ( $sidebar ) {
  //- aside.ui-sidebar.col-xs-4
  //-   .ui-sidebar-calendar

  //-   .ui-sidebar-widgets
  //-     <?php //- get_sidebar(); ?>
  //-     <?php if ( is_active_sidebar( 'sidebar-2' ) ) { ?>
  //-     #tertiary.sidebar-container(role='complementary')
  //-       .sidebar-inner
  //-         .widget-area
  //-           <?php dynamic_sidebar( 'sidebar-2' ); ?>
  //-     <?php } ?>
  //- :php
  //-   }
  hgroup.page-title
    h1 ALL REPORTS

  ul.posts(class!="posts-<?php echo get_post_type(); ?>")
    :php
      $wp_query = new WP_Query();
      $wp_query->query($param);
    <?php if ( $wp_query->have_posts() ) { while ( $wp_query->have_posts() ) { $wp_query->the_post(); ?>
    //- 投稿アイテム
    li.post(data-id!="<?php the_ID(); ?>")
      .post-header
        +ui-calendar
      .post-article
        h3.title
          a(href!="<?php the_permalink(); ?>")
            span <?php the_title(); ?>
        p.excerpt.ellipsis.multiline
          <?php echo new_excerpt( 100 ); ?>
      .post-footer
        //- 文責
          p.responsibility <?php echo post_custom( 'responsibility' ); ?>

    <?php }} else { ?>
    //- 投稿アイテム(Not Found)
    li.post.none
      span 投稿はありません。
    <?php } ?>


  //- フォトログページ
  //- ------------------------------------------------------------
  <?php } elseif ( get_post_type() == 'photolog' ) { ?>

  hgroup.page-title
    h1 PHOTOLOG HISTORY

  ul.posts.row(class!="posts-<?php echo get_post_type(); ?>")
    :php
      $current_year = 0;
      $wp_query = new WP_Query();
      $wp_query->query($param);
      $size = 'large';
    <?php if ( $wp_query->have_posts() ) { while ( $wp_query->have_posts() ) { $wp_query->the_post(); ?>
    //- 投稿アイテム
    a(href!="<?php the_permalink(); ?>")
      li.post.col-sm-3.col-xs-6(data-id!="<?php the_ID(); ?>")
        .post-header
          +ui-calendar
        .post-article
          h3.title
            span <?php the_title(); ?>
          p.excerpt.ellipsis.multiline
            <?php echo new_excerpt( 100 ); ?>

        .ui-load(data-src!="<?php echo get_field('photo'); ?>", class!="<?php if ( get_field('photo') ) { echo 'js-load'; } ?>")
          .preview
          .background
          +ui-loader

      <?php }} else { ?>
      //- 投稿アイテム(Not Found)
      li.post.none
        span 投稿はありません。
      <?php } ?>


  //- プロジェクトページ
  //- ------------------------------------------------------------
  <?php } elseif ( get_post_type() == 'project' ) { ?>

  hgroup.page-title
    h1 ALL PROJECTS

  ul.posts.row(class!="posts-<?php echo get_post_type(); ?>")
    :php
      $wp_query = new WP_Query();
      $wp_query->query($param);
    <?php if ( $wp_query->have_posts() ) { while ( $wp_query->have_posts() ) { $wp_query->the_post(); ?>
    //- 投稿アイテム
    li.post.col-sm-4.col-xs-12(data-id!="<?php the_ID(); ?>")
      .post-header
        //- サムネイル
        a(href!="<?php the_permalink(); ?>")
          <?php if ( has_post_thumbnail() ) { $size = 'large'; ?>
          .post-thumbnail(style!="background-image:url('<?php echo wp_get_attachment_image_src(get_post_thumbnail_id(), $size)[0]; ?>');")
          <?php } else { ?>
          .post-thumbnail.none
          <?php } ?>
      .post-article
        h3.title.ellipsis
          a(href!="<?php the_permalink(); ?>")
            span <?php the_title(); ?>
      .post-footer

    <?php }} else { ?>
    //- 投稿アイテム(Not Found)
    li.post.col-xs-12.none
      span プロジェクトはありません。
    <?php } ?>

  //- ------------------------------------------------------------
  <?php } ?>




